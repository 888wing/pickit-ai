# Pickit 用戶手冊
## Pickit - Lightroom Classic 智能選片插件 v1.0.0

### 目錄
1. [快速開始](#快速開始)
2. [安裝指南](#安裝指南)
3. [功能介紹](#功能介紹)
4. [使用教程](#使用教程)
5. [設置說明](#設置說明)
6. [常見問題](#常見問題)
7. [故障排除](#故障排除)

---

## 快速開始

Pickit 是一款專為專業攝影師設計的 Lightroom Classic 插件，使用人工智能技術自動識別和選擇高品質照片，可減少 80% 的初選時間。

### 主要特點
- 🚀 **快速處理**: 每分鐘處理超過 100 張照片
- 🎯 **智能評分**: AI 美學和技術品質雙重評估
- 👥 **人臉檢測**: 確保人像照片品質
- 🔍 **相似分組**: 自動識別連拍和相似照片
- 🔒 **隱私優先**: 所有處理在本地完成

---

## 安裝指南

### 系統需求
- **Lightroom Classic**: 12.0 或更高版本
- **操作系統**: macOS 10.14+ / Windows 10+
- **記憶體**: 最少 4GB，建議 8GB
- **硬碟空間**: 500MB
- **Node.js**: 16.0+ (用於 AI 模型服務)

### 安裝步驟

#### 1. 下載插件
```bash
git clone https://github.com/pickit/pickit-lightroom.git
cd LightroomAISelector
```

#### 2. 安裝 Node.js 依賴
```bash
cd node-bridge
npm install
```

#### 3. 下載 AI 模型
```bash
npm run install-models
```

#### 4. 啟動 Bridge 服務器
```bash
npm start
# 服務器將在 http://localhost:3000 運行
```

#### 5. 安裝到 Lightroom
**方法一：使用安裝腳本**
```bash
cd ..
./scripts/deploy_dev.sh
```

**方法二：手動安裝**
1. 打開 Lightroom Classic
2. 選擇 檔案 → 插件管理器
3. 點擊「新增」
4. 瀏覽到 `LightroomAISelector.lrplugin` 文件夾
5. 點擊「新增插件」

---

## 功能介紹

### 1. AI 品質評分
使用 NIMA (Neural Image Assessment) 模型進行雙重評估：
- **技術品質**: 銳度、曝光、噪點等技術指標
- **美學評分**: 構圖、色彩、情感等藝術性評估

### 2. 人臉品質檢測
- 自動檢測照片中的人臉
- 評估人臉清晰度和表情
- 識別閉眼、模糊等問題

### 3. 智能分組去重
- 識別連拍序列
- 檢測相似照片
- 推薦每組最佳照片

### 4. 批次處理
- 支援大量照片同時處理
- 即時進度顯示
- 可暫停和取消操作

---

## 使用教程

### 基本工作流程

#### 步驟 1：選擇照片
1. 在 Lightroom 圖庫中選擇要處理的照片
2. 可使用篩選器預先選擇（如按日期、相機等）
3. 建議批次大小：50-500 張

#### 步驟 2：開啟插件
1. 選擇 圖庫 → 插件附加功能 → Pickit - AI智能選片
2. 或使用快捷鍵（如已設置）

#### 步驟 3：配置選項
在主對話框中設置：
- ✅ **啟用 AI 品質評分**: 使用 AI 模型進行深度分析
- ✅ **啟用人臉檢測**: 檢測並評估人臉品質
- ✅ **自動分組相似照片**: 識別並分組相似照片
- ✅ **自動評分**: 為通過的照片設置星級
- ✅ **自動標籤**: 添加顏色標籤便於識別

#### 步驟 4：調整閾值
- **品質閾值**: 0.75（預設）- 越高越嚴格
- **相似度閾值**: 0.85 - 判定相似照片的標準
- **模糊閾值**: 100 - Laplacian 變異數閾值

#### 步驟 5：開始處理
1. 點擊「開始處理」
2. 觀察進度條和狀態信息
3. 等待處理完成

#### 步驟 6：查看結果
處理完成後：
- 通過的照片會自動標記（星級/顏色標籤）
- 查看處理摘要對話框
- 在圖庫中使用篩選器查看結果

---

## 設置說明

### 一般設置

#### 處理設置
- **批次大小**: 每批處理的照片數量（1-100）
- **最大記憶體**: 插件可使用的最大記憶體（MB）

#### 日誌設置
- **日誌級別**: 控制日誌詳細程度
  - Trace: 最詳細（調試用）
  - Debug: 調試信息
  - Info: 一般信息（預設）
  - Warning: 警告信息
  - Error: 僅錯誤

### AI 模型設置

#### 模型配置
- **使用本地模型**: 優先使用本地 ONNX 模型
- **模型超時**: AI 推理的最大等待時間

#### Bridge 服務器
- **服務器地址**: Node.js Bridge 服務器 URL
- **測試連接**: 檢查服務器狀態
- **下載模型**: 下載所需的 AI 模型文件

### 性能設置

#### 快取設置
- **啟用快取**: 快取評分結果以加速重複處理
- **快取大小**: 最大快取項目數

#### 並發設置
- **最大並發任務**: 同時處理的任務數（1-8）

### 進階功能
- **啟用雲端功能**: 使用雲端 AI 模型（需要網路）
- **啟用使用分析**: 匿名使用統計
- **自動檢查更新**: 自動通知新版本

---

## 常見問題

### Q1: 插件無法載入？
**A**: 請確認：
1. Lightroom Classic 版本 ≥ 12.0
2. 插件文件夾路徑正確
3. 重啟 Lightroom Classic

### Q2: AI 評分功能不工作？
**A**: 檢查以下項目：
1. Node.js Bridge 服務器是否運行
2. 在設置中測試連接狀態
3. AI 模型是否已下載
4. 防火牆是否阻擋 localhost:3000

### Q3: 處理速度很慢？
**A**: 優化建議：
1. 減少批次大小（設置 → 一般 → 批次大小）
2. 關閉不需要的功能（如人臉檢測）
3. 增加記憶體限制
4. 使用更快的硬碟（SSD）

### Q4: 如何調整選片標準？
**A**: 在主對話框中：
1. 提高品質閾值 = 更嚴格的標準
2. 調整技術/美學權重比例
3. 根據拍攝類型調整設置

### Q5: 可以處理 RAW 檔案嗎？
**A**: 支援的格式：
- RAW: DNG, NEF, CR2, CR3, ARW, RAF
- 標準: JPG, JPEG, PNG, TIFF

---

## 故障排除

### 錯誤代碼說明

| 錯誤代碼 | 說明 | 解決方案 |
|---------|------|---------|
| 1xxx | 系統錯誤 | 重啟插件或 Lightroom |
| 2xxx | 模型錯誤 | 重新下載 AI 模型 |
| 3xxx | API 錯誤 | 檢查 Bridge 服務器 |
| 4xxx | 用戶錯誤 | 檢查輸入或選擇 |

### 常見錯誤解決

#### "無法連接到 Bridge 服務器"
```bash
# 1. 檢查服務器是否運行
cd LightroomAISelector/node-bridge
npm start

# 2. 檢查端口是否被佔用
lsof -i :3000  # macOS/Linux
netstat -ano | findstr :3000  # Windows
```

#### "AI 模型載入失敗"
```bash
# 重新下載模型
cd LightroomAISelector/node-bridge
npm run install-models
```

#### "記憶體不足"
1. 減少批次大小
2. 清除快取（設置 → 性能 → 清除快取）
3. 關閉其他應用程序
4. 增加系統虛擬記憶體

### 日誌文件位置
- **macOS**: `~/Documents/LightroomAISelector/logs/`
- **Windows**: `%USERPROFILE%\Documents\LightroomAISelector\logs\`

### 獲取支援

#### 聯繫方式
- 📧 Email: support@pickit.ai
- 🌐 網站: https://pickit.ai
- 📖 文檔: https://pickit.ai/docs
- 🐛 問題回報: https://github.com/pickit/pickit-lightroom/issues
- 📝 意見回饋: 直接在插件內提交（設定 → 意見回饋）

#### 提供信息
報告問題時請提供：
1. Lightroom Classic 版本
2. 操作系統版本
3. 錯誤信息或截圖
4. 相關日誌文件
5. 重現步驟

---

## 快捷鍵參考

| 功能 | Windows | macOS |
|-----|---------|-------|
| 開啟插件 | Ctrl+Shift+A | Cmd+Shift+A |
| 取消處理 | Esc | Esc |
| 開啟設置 | Ctrl+, | Cmd+, |

---

## 更新日誌

### v1.0.0 (2025-01-01) - MVP 版本
- ✅ 基本 AI 評分功能
- ✅ 人臉檢測
- ✅ 批次處理
- ✅ 相似照片分組
- ✅ 自動標記功能
- ✅ 完整設置界面

### 即將推出
- 🔄 雲端 AI 模型支援
- 🔄 個性化學習系統
- 🔄 團隊協作功能
- 🔄 進階報告分析

---

## 授權協議

本軟體使用 MIT 授權協議。詳見 LICENSE 文件。

---

*感謝您使用 Pickit！*
*讓 AI 幫助您專注於創意工作。*